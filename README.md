# Bemfa-wechat-notify
![WordPress Compatible](https://img.shields.io/badge/WordPress-5.0%2B-blue)
![PHP Compatible](https://img.shields.io/badge/PHP-7.0%2B-green)
![License](https://img.shields.io/badge/License-GPLv2-orange)
![Version](https://img.shields.io/badge/Version-1.2-brightgreen)

åŸºäºå·´æ³•äº‘å¾®ä¿¡æ¥å£å¼€å‘çš„WordPressæ’ä»¶ï¼Œ**ä¸¥æ ¼è´´åˆå®˜æ–¹APIè§„èŒƒ**ï¼Œå®ç°å¾®ä¿¡æ¶ˆæ¯é¢„è­¦/æé†’åŒç±»å‹æ¨é€ã€‚æ–°å¢**å¯è§†åŒ–åè®®åˆ‡æ¢ã€æ—¥å¿—å¼€å…³ã€POST/GETåŒè¯·æ±‚æ–¹å¼ã€ä¸€é”®æµ‹è¯•æ¨é€ã€è‡ªåŠ¨äº‹ä»¶å¼€å…³**ï¼Œæä¾›åå°å¯è§†åŒ–é…ç½®ã€çŸ­ä»£ç /å‡½æ•°è°ƒç”¨ï¼Œè½»é‡æ— ä¾èµ–ï¼ŒåŸç”Ÿå…¼å®¹WooCommerceï¼Œé€‚é…æ‰€æœ‰ä¸»æµWPç‰ˆæœ¬ï¼Œ**æ— ç¼å…¼å®¹1.0ç‰ˆæœ¬æ‰€æœ‰ç”¨æ³•**ã€‚

## ğŸ“Œ é¡¹ç›®ç®€ä»‹
æœ¬æ’ä»¶æ˜¯å·´æ³•äº‘å¾®ä¿¡é€šçŸ¥æ¥å£åœ¨WordPressç”Ÿæ€çš„æ·±åº¦é€‚é…æ’ä»¶ï¼Œ**v1.2å…¨æ–°å‡çº§**ï¼Œå®Œå…¨éµå¾ªå·´æ³•äº‘å®˜æ–¹APIæ–‡æ¡£è§„èŒƒï¼Œæ— éœ€ç¼–å†™ä»£ç å³å¯å®ç°WPç«™ç‚¹è‡ªåŠ¨åŒ–å¾®ä¿¡æ¨é€ï¼ŒåŒæ—¶ä¿ç•™é«˜åº¦å¯æ‰©å±•æ€§ï¼Œæ»¡è¶³å¼€å‘äººå‘˜ä¸ªæ€§åŒ–éœ€æ±‚ã€‚

æ ¸å¿ƒé€‚é…å·´æ³•äº‘å…¨å¥—å¾®ä¿¡æ¨é€æ¥å£ï¼Œ**å¯è§†åŒ–é€‰æ‹©è¯·æ±‚æ–¹å¼**ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ä»£ç ï¼š
- è®¾å¤‡é¢„è­¦æ¥å£ï¼š`wechatAlertJson`(POST) / `wechatAlert`(GET)ï¼Œé€‚ç”¨äºç«™ç‚¹å‘Šè­¦ã€å¼‚å¸¸é€šçŸ¥ç­‰é‡è¦æ¶ˆæ¯
- è®¾å¤‡æé†’æ¥å£ï¼š`wechatWarnJson`(POST) / `wechatWarn`(GET)ï¼Œé€‚ç”¨äºæ—¥å¸¸é€šçŸ¥ã€å¸¸è§„æé†’ç­‰æ™®é€šæ¶ˆæ¯
- GETæ–¹å¼ä¸‹`warn`æ¥å£**è‡ªåŠ¨è¿½åŠ `type=2`å¿…å¡«å‚æ•°**ï¼Œå®Œå…¨è´´åˆå®˜æ–¹è§„èŒƒ

## ğŸ“ ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
### v1.2ï¼ˆ2026-02-01ï¼‰ã€æ ¸å¿ƒå‡çº§ã€‘
ğŸ”¥ **æ–°å¢** å¯è§†åŒ–åè®®åˆ‡æ¢ï¼šHTTP/HTTPSä¸€é”®é€‰æ‹©ï¼Œæœ¬åœ°/ç¡¬ä»¶ç”¨HTTP(80ç«¯å£)ï¼Œçº¿ä¸Šç”¨HTTPS(443ç«¯å£)
ğŸ”¥ **æ–°å¢** æ—¥å¿—å¼€å…³ï¼šåå°ä¸€é”®å¼€å¯/å…³é—­ï¼Œå‡å°‘ç«™ç‚¹æ—¥å¿—å†—ä½™ï¼Œè°ƒè¯•/ç”Ÿäº§ç¯å¢ƒæŒ‰éœ€åˆ‡æ¢
ğŸ”¥ **æ–°å¢** POST/GETåŒè¯·æ±‚æ–¹å¼ï¼šä¸¥æ ¼è´´åˆå·´æ³•äº‘APIï¼ŒJSON/URLä¼ å‚è‡ªåŠ¨é€‚é…ï¼Œæ— éœ€æ‰‹åŠ¨æ”¹ä»£ç 
ğŸ”¥ **æ–°å¢** åå°è‡ªåŠ¨äº‹ä»¶å¼€å…³ï¼šæ–‡ç« å‘å¸ƒ/è¯„è®ºå®¡æ ¸/WooCommerceæ–°è®¢å•æ¨é€ï¼Œå¼€ç®±å³ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨åŠ é’©å­
ğŸ”¥ **æ–°å¢** ä¸€é”®æµ‹è¯•æ¨é€ï¼šå®æ—¶éªŒè¯é…ç½®/æ¥å£è¿é€šæ€§ï¼Œæ¨é€ç»“æœå³æ—¶æ˜¾ç¤ºï¼Œå¿«é€Ÿæ’é”™
ğŸ”¥ **æ–°å¢** åå°åˆ†å±‚é…ç½®ï¼šæ ¸å¿ƒé…ç½®/äº‹ä»¶å¼€å…³/é«˜çº§é…ç½®/æµ‹è¯•æ¨é€ï¼Œæ¨¡å—æ¸…æ™°ï¼Œæ“ä½œç®€å•
ğŸ”¥ **ä¼˜åŒ–** é…ç½®æ•°æ®æ¸…æ´—ï¼šè‡ªåŠ¨è¿‡æ»¤éæ³•å­—ç¬¦ï¼Œåˆ†ç»„ä»…ä¿ç•™å­—æ¯/æ•°å­—ï¼Œé…ç½®æ›´å¥å£®
ğŸ”¥ **ä¼˜åŒ–** æ’ä»¶æ¿€æ´»/å¸è½½ï¼šè‡ªåŠ¨åˆå§‹åŒ–/æ¸…ç†é…ç½®ï¼Œæ— å†—ä½™æ•°æ®æ®‹ç•™
âœ… **å…¼å®¹** 1.0ç‰ˆæœ¬æ‰€æœ‰çŸ­ä»£ç /å‡½æ•°è°ƒç”¨ï¼Œæ— ç¼å‡çº§æ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç 

### v1.0
ğŸ–¥ï¸ åŸºç¡€å¯è§†åŒ–é…ç½®ï¼ˆUID/è®¾å¤‡å/åˆ†ç»„ï¼‰
ğŸ”§ çŸ­ä»£ç /PHPå‡½æ•°åŒè°ƒç”¨æ–¹å¼
ğŸ“± é€‚é…å·´æ³•äº‘POSTæ¥å£ï¼ˆé¢„è­¦/æé†’ï¼‰
ğŸš€ è½»é‡æ— ä¾èµ–ï¼ŒåŸç”ŸWPä»£ç å¼€å‘
ğŸ” å†…ç½®é”™è¯¯æ—¥å¿—è®°å½•ï¼Œæ”¯æŒäºŒæ¬¡æ‰©å±•

## âœ¨ æ ¸å¿ƒç‰¹æ€§
- ğŸ–¥ï¸ **åˆ†å±‚å¯è§†åŒ–é…ç½®**ï¼šæ ¸å¿ƒé…ç½®/äº‹ä»¶å¼€å…³/é«˜çº§é…ç½®/æµ‹è¯•æ¨é€å››èŠ‚ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼Œæ–°æ‰‹å‹å¥½
- ğŸ”§ **å¤šè°ƒç”¨æ–¹å¼**ï¼šçŸ­ä»£ç ï¼ˆéå¼€å‘ï¼‰ã€å‡½æ•°è°ƒç”¨ï¼ˆå¼€å‘ï¼‰ã€**è‡ªåŠ¨åŒ–äº‹ä»¶æ¨é€**ï¼ˆå¼€ç®±å³ç”¨ï¼‰ä¸‰ç§æ–¹å¼
- ğŸ“¡ **å…¨APIé€‚é…**ï¼šä¸¥æ ¼è´´åˆå·´æ³•äº‘å®˜æ–¹APIï¼Œæ”¯æŒPOST/GETåŒè¯·æ±‚æ–¹å¼ï¼ŒHTTP/HTTPSä¸€é”®åˆ‡æ¢
- âœ… **è‡ªåŠ¨åŒ–æ¨é€**ï¼šæ–‡ç« å‘å¸ƒ/è¯„è®ºå®¡æ ¸/WooCommerceæ–°è®¢å•ï¼Œåå°å‹¾é€‰å³ç”Ÿæ•ˆï¼Œæ— éœ€æ‰‹åŠ¨å¼€å‘
- ğŸš€ **è½»é‡æ— ä¾èµ–**ï¼šçº¯åŸç”ŸWPä»£ç å¼€å‘ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œä¸å ç”¨å¤šä½™æœåŠ¡å™¨èµ„æº
- ğŸ“ **å¯æ§æ—¥å¿—è®°å½•**ï¼šæ—¥å¿—å¼€å…³ä¸€é”®åˆ‡æ¢ï¼Œä»…è®°å½•æ¨é€ç›¸å…³ä¿¡æ¯ï¼Œæ— å†—ä½™ï¼Œåå°å¯æŸ¥çœ‹
- ğŸ” **ä¸€é”®æµ‹è¯•æ¨é€**ï¼šå®æ—¶éªŒè¯é…ç½®æ­£ç¡®æ€§ï¼Œæ¨é€ç»“æœå³æ—¶æ˜¾ç¤ºï¼Œå¿«é€Ÿå®šä½æ¥å£/é…ç½®é—®é¢˜
- ğŸ’¡ **å¹¿æ³›å…¼å®¹**ï¼šé€‚é…WP 5.0+ã€PHP 7.0+ï¼Œå…¼å®¹æ‰€æœ‰ä¸»é¢˜/æ’ä»¶ï¼ŒåŸç”Ÿæ”¯æŒWooCommerceç”µå•†ç«™ç‚¹
- ğŸ”„ **æ— ç¼å…¼å®¹**ï¼šå®Œå…¨å…¼å®¹1.0ç‰ˆæœ¬æ‰€æœ‰çŸ­ä»£ç /å‡½æ•°ç”¨æ³•ï¼Œå‡çº§ååŸæœ‰åŠŸèƒ½æ­£å¸¸ä½¿ç”¨
- ğŸ” **éšç§å‹å¥½**ï¼šä»…åœ¨ç«™ç‚¹æœ¬åœ°æ•°æ®åº“å­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œä¸æ”¶é›†ã€ä¸ä¼ è¾“ä»»ä½•ç«™ç‚¹/ç”¨æˆ·æ•°æ®

## ğŸ“‹ å‰ç½®å‡†å¤‡
ä½¿ç”¨æ’ä»¶å‰ï¼Œéœ€å…ˆå®Œæˆå·´æ³•äº‘å¾®ä¿¡ç»‘å®šå¹¶è·å–UIDï¼Œ**æ­¥éª¤ä¸å˜ï¼Œä¸1.0ç‰ˆæœ¬ä¸€è‡´**ï¼š
1. è®¿é—® [å·´æ³•äº‘æ§åˆ¶å°](https://cloud.bemfa.com/)ï¼Œæ³¨å†Œ/ç™»å½•è´¦å·
2. æŒ‰æç¤ºå…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€Œå·´æ³•äº‘ã€ï¼Œå®Œæˆè´¦å·ä¸å¾®ä¿¡çš„è‡ªåŠ¨ç»‘å®š
3. åœ¨å·´æ³•äº‘æ§åˆ¶å°ã€Œä¸ªäººä¸­å¿ƒ/å¯†é’¥ç®¡ç†ã€ï¼Œå¤åˆ¶ä½ çš„ **ç”¨æˆ·ç§é’¥UID**ï¼ˆ32ä½å­—ç¬¦ä¸²ï¼Œæ’ä»¶å¿…å¡«ï¼‰
4. ç¡®è®¤ä½¿ç”¨ç¯å¢ƒï¼ˆæ¨èï¼‰ï¼š
   - çº¿ä¸ŠWPç«™ç‚¹ï¼šHTTPSåè®® + POSTè¯·æ±‚æ–¹å¼
   - æœ¬åœ°/ç¡¬ä»¶è®¾å¤‡ï¼šHTTPåè®® + GETè¯·æ±‚æ–¹å¼

## ğŸ”§ å®‰è£…æ­¥éª¤
æ”¯æŒä¸¤ç§å®‰è£…æ–¹å¼ï¼Œ**ä¸1.0ç‰ˆæœ¬å®Œå…¨ä¸€è‡´**ï¼Œå‡çº§ç”¨æˆ·ç›´æ¥è¦†ç›–æ’ä»¶æ–‡ä»¶å³å¯ï¼ŒåŸæœ‰é…ç½®è‡ªåŠ¨ä¿ç•™ï¼š

### æ–¹å¼1ï¼šåå°ä¸Šä¼ å®‰è£…ï¼ˆæ¨èï¼Œéå¼€å‘äººå‘˜ï¼‰
1. ä» GitHub Releases é¡µé¢ä¸‹è½½æ’ä»¶ZIPå‹ç¼©åŒ…ï¼š[Releases](https://github.com/liseezn/Bemfa-wechat-notify/releases)
2. ç™»å½•WordPressåå° â†’ æ’ä»¶ â†’ å®‰è£…æ’ä»¶ â†’ ä¸Šä¼ æ’ä»¶
3. é€‰æ‹©ä¸‹è½½çš„ZIPå‹ç¼©åŒ…ï¼Œç‚¹å‡»ã€Œå®‰è£…ç°åœ¨ã€
4. å®‰è£…å®Œæˆåï¼Œç‚¹å‡»ã€Œå¯ç”¨æ’ä»¶ã€ï¼Œè¿›å…¥**è®¾ç½® â†’ å·´æ³•äº‘å¾®ä¿¡é€šçŸ¥**é…ç½®

### æ–¹å¼2ï¼šæ‰‹åŠ¨ä¸Šä¼ å®‰è£…ï¼ˆå¼€å‘äººå‘˜ï¼‰
1. å…‹éš†æœ¬ä»“åº“ï¼š
   ```bash
   git clone https://github.com/liseezn/Bemfa-wechat-notify.git
   ```
2. å°†æ’ä»¶æ–‡ä»¶å¤¹ `Bemfa-wechat-notify` å¤åˆ¶åˆ°WPæ’ä»¶ç›®å½•ï¼š`wp-content/plugins/`
3. ç™»å½•WordPressåå° â†’ æ’ä»¶ â†’ å·²å®‰è£…æ’ä»¶ï¼Œæ‰¾åˆ°ã€Œå·´æ³•äº‘å¾®ä¿¡é€šçŸ¥æ¨é€ã€ï¼Œç‚¹å‡»ã€Œå¯ç”¨ã€

## âš™ï¸ åå°å¯è§†åŒ–é…ç½®
**v1.2æ ¸å¿ƒå‡çº§ç‚¹**ï¼Œæ’ä»¶å¯ç”¨åè¿›å…¥ã€Œè®¾ç½® â†’ å·´æ³•äº‘å¾®ä¿¡é€šçŸ¥ã€ï¼Œåˆ†å››èŠ‚é…ç½®ï¼Œ**å¸¦*ä¸ºå¿…å¡«é¡¹**ï¼Œé…ç½®å®Œæˆåç‚¹å‡»ã€Œä¿å­˜é…ç½®ã€ï¼Œ**æ”¯æŒä¸€é”®æµ‹è¯•æ¨é€éªŒè¯**ï¼š

### 1. æ ¸å¿ƒé…ç½®ï¼ˆå·´æ³•äº‘æ§åˆ¶å°è·å–ï¼ŒåŸ1.0åŸºç¡€é…ç½®ï¼‰
| é…ç½®é¡¹ | è¯´æ˜ | ç¤ºä¾‹ | æ˜¯å¦å¿…å¡« |
|--------|------|------|----------|
| å·´æ³•äº‘ç”¨æˆ·ç§é’¥UID | å·´æ³•äº‘ä¸ªäººä¸­å¿ƒè·å–ï¼Œæ— UIDæ— æ³•æ¨é€ | `4d9ec352e0376f2110a0c601a2857225` | âœ… æ˜¯ |
| é»˜è®¤è®¾å¤‡åç§° | æ¨é€æ¶ˆæ¯æ˜¾ç¤ºçš„è®¾å¤‡æ ‡è¯†ï¼Œè‡ªå®šä¹‰ | `æˆ‘çš„WPåšå®¢`/`WPç”µå•†ç«™ç‚¹` | âŒ å¦ |
| é»˜è®¤æ¶ˆæ¯åˆ†ç»„ | æ¶ˆæ¯åˆ†ç»„ï¼ˆä»…é™å­—æ¯/æ•°å­—ï¼‰ï¼Œä¸å­˜åœ¨è‡ªåŠ¨åˆ›å»º | `wp_notify`/`default` | âŒ å¦ |
| ä½¿ç”¨HTTPåè®® | æœ¬åœ°/ç¡¬ä»¶è®¾å¤‡å‹¾é€‰ï¼Œçº¿ä¸Šç«™ç‚¹ä¸å‹¾é€‰ï¼Œè‡ªåŠ¨åˆ‡æ¢80/443ç«¯å£ | æœ¬åœ°ç¯å¢ƒå‹¾é€‰ | âŒ å¦ |

### 2. æ¨é€äº‹ä»¶å¼€å…³ï¼ˆv1.2æ–°å¢ï¼Œå¼€ç®±å³ç”¨ï¼‰
å‹¾é€‰å¯¹åº”äº‹ä»¶ï¼Œ**è§¦å‘æ—¶è‡ªåŠ¨æ¨é€å¾®ä¿¡æ¶ˆæ¯**ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ ä»»ä½•é’©å­ä»£ç ï¼ŒåŸç”Ÿå…¼å®¹WooCommerceï¼š
- âœ… æ–°æ–‡ç« å‘å¸ƒæ—¶æ¨é€ï¼šä»…æ™®é€šæ–‡ç« ï¼ˆpostç±»å‹ï¼‰ï¼Œæ’é™¤è‰ç¨¿/ä¿®è®¢ç‰ˆ
- âœ… æ–°è¯„è®ºå®¡æ ¸é€šè¿‡æ—¶æ¨é€ï¼šä»…å®¡æ ¸é€šè¿‡çš„è¯„è®ºï¼Œé¿å…åƒåœ¾è¯„è®ºæ¨é€
- âœ… WooCommerceæ–°è®¢å•ç”Ÿæˆæ—¶æ¨é€ï¼šéœ€å®‰è£…å¹¶å¯ç”¨WooCommerceï¼Œè‡ªåŠ¨æ¨é€è®¢å•æ ¸å¿ƒä¿¡æ¯

### 3. é«˜çº§é…ç½®ï¼ˆv1.2æ–°å¢ï¼Œè´´åˆå·´æ³•äº‘APIï¼‰
| é…ç½®é¡¹ | å¯é€‰å€¼ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|--------|------|
| æ˜¯å¦å¼€å¯æ’ä»¶æ—¥å¿— | å¼€å¯/å…³é—­ | å¼€å¯ | å¼€å¯åè®°å½•æ¨é€æˆåŠŸ/å¤±è´¥æ—¥å¿—ï¼Œå…³é—­åä¸è®°å½•ï¼Œå‡å°‘å†—ä½™ |
| æ¥å£è¯·æ±‚æ–¹å¼ | POST/GET | POST | ä¸¥æ ¼è´´åˆå·´æ³•äº‘APIï¼šPOST=JSONä¼ å‚ï¼ŒGET=URLä¼ å‚ï¼ˆwarnæ¥å£è‡ªåŠ¨åŠ type=2ï¼‰ |

### 4. æµ‹è¯•æ¨é€ï¼ˆv1.2æ–°å¢ï¼Œå¿«é€Ÿæ’é”™ï¼‰
ç‚¹å‡»ã€Œå‘é€æµ‹è¯•æ¶ˆæ¯ã€æŒ‰é’®ï¼Œå®æ—¶éªŒè¯ï¼š
- å·´æ³•äº‘UIDé…ç½®æ­£ç¡®æ€§
- æ¥å£è¿é€šæ€§ï¼ˆHTTP/HTTPS/POST/GETï¼‰
- å¾®ä¿¡ç»‘å®šçŠ¶æ€
- æ¨é€ç»“æœå³æ—¶æ˜¾ç¤ºåœ¨æŒ‰é’®ä¸‹æ–¹ï¼ŒæˆåŠŸä¼šæ”¶åˆ°å¾®ä¿¡æ¶ˆæ¯

## ğŸ“– ä½¿ç”¨æ•™ç¨‹
**v1.2ä¿ç•™1.0ç‰ˆæœ¬æ‰€æœ‰è°ƒç”¨æ–¹å¼**ï¼ŒçŸ­ä»£ç ã€PHPå‡½æ•°å®Œå…¨å…¼å®¹ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç ï¼›åŒæ—¶æ–°å¢**è‡ªåŠ¨åŒ–äº‹ä»¶æ¨é€**ï¼Œåå°å‹¾é€‰å³ç”Ÿæ•ˆï¼Œå¼€ç®±å³ç”¨ã€‚

### æ–¹å¼1ï¼šè‡ªåŠ¨åŒ–äº‹ä»¶æ¨é€ï¼ˆv1.2æ–°å¢ï¼Œæ¨èï¼Œé›¶å¼€å‘ï¼‰
**æ— éœ€ç¼–å†™ä»»ä½•ä»£ç **ï¼Œåœ¨ã€Œæ¨é€äº‹ä»¶å¼€å…³ã€ä¸­å‹¾é€‰éœ€è¦çš„åœºæ™¯ï¼Œä¿å­˜é…ç½®åè‡ªåŠ¨è§¦å‘ï¼Œæ¶ˆæ¯ä¸ºç³»ç»Ÿä¼˜åŒ–æ¨¡æ¿ï¼ŒåŒ…å«æ ¸å¿ƒä¿¡æ¯ï¼š
1. **æ–°æ–‡ç« å‘å¸ƒ**ï¼šæ¨é€ã€Œæ–‡ç« æ ‡é¢˜+è®¿é—®é“¾æ¥ã€
2. **è¯„è®ºå®¡æ ¸é€šè¿‡**ï¼šæ¨é€ã€Œè¯„è®ºäºº+è¯„è®ºå†…å®¹ï¼ˆå‰50å­—ï¼‰+æ‰€å±æ–‡ç« +è¯„è®ºé“¾æ¥ã€
3. **WooCommerceæ–°è®¢å•**ï¼šæ¨é€ã€Œè®¢å•å·+ä¸‹å•äºº+è®¢å•é‡‘é¢+ä¸‹å•æ—¶é—´+åå°ç¼–è¾‘é“¾æ¥ã€

### æ–¹å¼2ï¼šçŸ­ä»£ç è°ƒç”¨ï¼ˆä¸1.0ç‰ˆæœ¬å®Œå…¨ä¸€è‡´ï¼Œéå¼€å‘äººå‘˜æ¨èï¼‰
å¯åœ¨ã€Œæ–‡ç« /é¡µé¢/è‡ªå®šä¹‰å°å·¥å…·/é¡µé¢æ„å»ºå™¨ã€ä¸­ä½¿ç”¨ï¼Œ**ä»…ç®¡ç†å‘˜å¯è§æ¨é€ç»“æœ**ï¼Œæ™®é€šæ¸¸å®¢æ— æ„ŸçŸ¥ï¼Œæ”¯æŒåŸºç¡€/é«˜çº§ç”¨æ³•ã€‚

#### åŸºç¡€ç”¨æ³•ï¼ˆä»…ä¼ æ¶ˆæ¯ï¼Œä½¿ç”¨åå°é»˜è®¤é…ç½®ï¼‰
```markdown
# è®¾å¤‡é¢„è­¦æ¨é€ï¼ˆé‡è¦å‘Šè­¦ï¼Œå¦‚ç«™ç‚¹å¼‚å¸¸ï¼‰
[bafayun_alert msg="WPç«™ç‚¹æ£€æµ‹åˆ°å¼‚å¸¸IPè®¿é—®ï¼Œè¯·æ³¨æ„æ’æŸ¥ï¼"]

# è®¾å¤‡æé†’æ¨é€ï¼ˆæ—¥å¸¸é€šçŸ¥ï¼Œå¦‚æ–°è¯„è®º/æ–°è®¢å•ï¼‰
[bafayun_warn msg="æ‚¨çš„ç«™ç‚¹æœ‰æ–°è¯„è®ºå¾…å®¡æ ¸ï¼Œç‚¹å‡»æŸ¥çœ‹ï¼"]
```

#### é«˜çº§ç”¨æ³•ï¼ˆè‡ªå®šä¹‰è®¾å¤‡å/åˆ†ç»„/è·³è½¬é“¾æ¥ï¼Œè¦†ç›–åå°é»˜è®¤ï¼‰
```markdown
[bafayun_warn 
  msg="æ–°è¡¨å•æäº¤ï¼šç”¨æˆ·XXXæäº¤äº†è”ç³»æˆ‘ä»¬è¡¨å•" 
  device="WPç«™ç‚¹-è¡¨å•é€šçŸ¥"  # è‡ªå®šä¹‰è®¾å¤‡å
  group="wp_form"           # è‡ªå®šä¹‰åˆ†ç»„ï¼ˆä»…é™å­—æ¯/æ•°å­—ï¼‰
  url="https://ä½ çš„ç«™ç‚¹.com/wp-admin/edit.php?post_type=wpforms"  # åˆæ³•è·³è½¬URL
]
```

### æ–¹å¼3ï¼šPHPå‡½æ•°è°ƒç”¨ï¼ˆä¸1.0ç‰ˆæœ¬å®Œå…¨ä¸€è‡´ï¼Œå¼€å‘äººå‘˜æ¨èï¼‰
å¯åœ¨ã€Œä¸»é¢˜functions.php/è‡ªå®šä¹‰æ’ä»¶/ä»£ç ç‰‡æ®µã€ä¸­è°ƒç”¨ï¼Œå®ç°**è‡ªå®šä¹‰åœºæ™¯æ¨é€**ï¼ˆå¦‚ç«™ç‚¹å¼‚å¸¸ã€ä¼šå‘˜æ³¨å†Œã€è¡¨å•æäº¤ç­‰ï¼‰ï¼Œæ”¯æŒåŸºç¡€/é«˜çº§ç”¨æ³•ã€‚

#### æ ¸å¿ƒå‡½æ•°ï¼ˆä¸1.0ç‰ˆæœ¬ä¸€è‡´ï¼‰
```php
// è®¾å¤‡é¢„è­¦æ¨é€ï¼ˆé‡è¦å‘Šè­¦ï¼Œå¯¹åº”alertæ¥å£ï¼‰
bafayun_wechat_alert($message, $device = '', $group = '', $url = '');

// è®¾å¤‡æé†’æ¨é€ï¼ˆæ—¥å¸¸é€šçŸ¥ï¼Œå¯¹åº”warnæ¥å£ï¼Œæ¨èï¼‰
bafayun_wechat_warn($message, $device = '', $group = '', $url = '');

// å…¨å±€å¿«æ·å‡½æ•°ï¼ˆé»˜è®¤æé†’ç±»å‹ï¼Œtype=alertä¸ºé¢„è­¦ï¼‰
bafayun_wechat_push($message, $type = 'warn');
```

#### å‚æ•°è¯´æ˜ï¼ˆä¸1.0ç‰ˆæœ¬ä¸€è‡´ï¼‰
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
|------|------|----------|------|
| $message | string | âœ… æ˜¯ | æ¨é€çš„å¾®ä¿¡æ¶ˆæ¯å†…å®¹ï¼Œä¸èƒ½ä¸ºç©º |
| $device | string | âŒ å¦ | è‡ªå®šä¹‰è®¾å¤‡åï¼Œç•™ç©ºä½¿ç”¨åå°é»˜è®¤é…ç½® |
| $group | string | âŒ å¦ | è‡ªå®šä¹‰åˆ†ç»„ï¼ˆä»…é™å­—æ¯/æ•°å­—ï¼‰ï¼Œç•™ç©ºä½¿ç”¨åå°é»˜è®¤é…ç½® |
| $url | string | âŒ å¦ | ç‚¹å‡»æ¶ˆæ¯è·³è½¬çš„åˆæ³•URLï¼Œç•™ç©ºåˆ™æ— è·³è½¬ |
| $type | string | âŒ å¦ | æ¨é€ç±»å‹ï¼š`alert`ï¼ˆé¢„è­¦ï¼‰/`warn`ï¼ˆæé†’ï¼‰ï¼Œé»˜è®¤`warn` |

#### è°ƒç”¨ç¤ºä¾‹ï¼ˆä¸1.0ç‰ˆæœ¬ä¸€è‡´ï¼‰
```php
// åŸºç¡€ç”¨æ³•ï¼šä»…ä¼ æ¶ˆæ¯ï¼Œä½¿ç”¨åå°é»˜è®¤é…ç½®
bafayun_wechat_warn("æ–°ç”¨æˆ·æ³¨å†Œï¼šç”¨æˆ·åtest123ï¼Œæ³¨å†Œæ—¶é—´2026-02-01");

// é«˜çº§ç”¨æ³•ï¼šè‡ªå®šä¹‰è®¾å¤‡å/åˆ†ç»„+è·³è½¬é“¾æ¥ï¼ˆç«™ç‚¹å¼‚å¸¸å‘Šè­¦ï¼‰
bafayun_wechat_alert("ç«™ç‚¹å¼‚å¸¸ï¼šç£ç›˜ç©ºé—´ä¸è¶³10%ï¼", "WPæœåŠ¡å™¨", "wp_alert", "https://ä½ çš„ç«™ç‚¹.com/wp-admin/");

// å¿«æ·å‡½æ•°ï¼šæŒ‡å®šä¸ºé¢„è­¦ç±»å‹
bafayun_wechat_push("æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Œç«™ç‚¹æš‚æ—¶æ— æ³•è®¿é—®ï¼", 'alert');
```

### æ–¹å¼4ï¼šè‡ªå®šä¹‰åœºæ™¯æ¨é€ï¼ˆå¼€å‘äººå‘˜ï¼ŒåŸºäº1.0æ‰©å±•ï¼‰
è‹¥éœ€å®ç°**åå°äº‹ä»¶å¼€å…³æœªè¦†ç›–çš„åœºæ™¯**ï¼ˆå¦‚ä¼šå‘˜æ³¨å†Œã€è¡¨å•æäº¤ã€è®¢å•æ”¯ä»˜æˆåŠŸï¼‰ï¼Œå¯ç»“åˆWP/WooCommerceé’©å­è°ƒç”¨å‡½æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```php
// ç¤ºä¾‹ï¼šWPFormsè¡¨å•æäº¤åè‡ªåŠ¨æ¨é€
add_action('wpforms_process_complete', 'custom_wpforms_push', 10, 4);
function custom_wpforms_push($fields, $entry, $form_data, $entry_id) {
    $msg = "ã€æ–°è¡¨å•æäº¤ã€‘\nè¡¨å•åç§°ï¼š{$form_data['settings']['form_title']}\næäº¤æ—¶é—´ï¼š" . date('Y-m-d H:i:s');
    bafayun_wechat_warn($msg, 'WPç«™ç‚¹-è¡¨å•é€šçŸ¥', 'wp_form', admin_url('admin.php?page=wpforms-entries&view=details&entry_id=' . $entry_id));
}

// ç¤ºä¾‹ï¼šWooCommerceè®¢å•æ”¯ä»˜æˆåŠŸåæ¨é€
add_action('woocommerce_order_status_completed', 'custom_wc_pay_success_push');
function custom_wc_pay_success_push($order_id) {
    $order = wc_get_order($order_id);
    $msg = "ã€è®¢å•æ”¯ä»˜æˆåŠŸã€‘\nè®¢å•å·ï¼š{$order->get_order_number()}\næ”¯ä»˜é‡‘é¢ï¼š{$order->get_formatted_order_total()}\næ”¯ä»˜æ—¶é—´ï¼š" . date('Y-m-d H:i:s');
    bafayun_wechat_warn($msg, 'WPç”µå•†ç«™ç‚¹', 'wp_pay', admin_url('post.php?post=' . $order_id . '&action=edit'));
}
```

## ğŸ” é”™è¯¯æ’æŸ¥ï¼ˆv1.2æ–°å¢ä¸“å±æ’æŸ¥ç‚¹ï¼‰
æ¨é€å¤±è´¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼Œ**ä¼˜å…ˆä½¿ç”¨ä¸€é”®æµ‹è¯•æ¨é€å®šä½é—®é¢˜**ï¼Œæµ‹è¯•æ¨é€ä¼šç›´æ¥æç¤ºå¤±è´¥åŸå› ï¼š
1. **åŸºç¡€é…ç½®æ£€æŸ¥**ï¼šç¡®è®¤UIDå¡«å†™æ­£ç¡®ã€å¾®ä¿¡å·²ç»‘å®šå·´æ³•äº‘å¹¶å…³æ³¨å…¬ä¼—å·ï¼Œé…ç½®åå·²ç‚¹å‡»ã€Œä¿å­˜é…ç½®ã€
2. **æµ‹è¯•æ¨é€éªŒè¯**ï¼šç‚¹å‡»ã€Œå‘é€æµ‹è¯•æ¶ˆæ¯ã€ï¼Œæ ¹æ®æç¤ºæ’æŸ¥ï¼ˆå¦‚ã€Œæœªé…ç½®UIDã€ã€Œæ¥å£è¯·æ±‚å¤±è´¥ã€ï¼‰
3. **åè®®/è¯·æ±‚æ–¹å¼æ£€æŸ¥**ï¼šæœ¬åœ°/ç¡¬ä»¶è®¾å¤‡éœ€å‹¾é€‰ã€Œä½¿ç”¨HTTPåè®®ã€+ é€‰æ‹©GETæ–¹å¼ï¼Œçº¿ä¸Šç«™ç‚¹ç”¨HTTPS+POST
4. **GETæ–¹å¼ä¸“å±æ£€æŸ¥**ï¼šåˆ†ç»„éœ€ä¸º**çº¯å­—æ¯/æ•°å­—**ï¼Œæ’ä»¶å·²è‡ªåŠ¨ä¸ºwarnæ¥å£åŠ `type=2`ï¼Œæ— éœ€æ‰‹åŠ¨ä¼ å‚
5. **æ—¥å¿—æ’æŸ¥**ï¼šå¼€å¯æ’ä»¶æ—¥å¿—åï¼Œåœ¨WPåå°ã€Œå·¥å…· â†’ ç«™ç‚¹å¥åº· â†’ æ—¥å¿—ã€æŸ¥çœ‹PHPé”™è¯¯æ—¥å¿—ï¼Œæ ¼å¼ä¸º`[Bemfa WeChat] æ—¥å¿—å†…å®¹`
6. **æ¶ˆæ¯å†…å®¹æ£€æŸ¥**ï¼šç¡®ä¿æ¶ˆæ¯ä¸ä¸ºç©ºï¼Œé¿å…è¿‡å¤šç‰¹æ®Šå­—ç¬¦ï¼ŒGETæ–¹å¼å› URLä¼ å‚ï¼Œç‰¹æ®Šå­—ç¬¦ä¼šè‡ªåŠ¨è½¬ä¹‰
7. **ç½‘ç»œ/ç«¯å£æ£€æŸ¥**ï¼šæœ¬åœ°è®¾å¤‡éœ€ç¡®ä¿ç½‘ç»œèƒ½è®¿é—®`http://apis.bemfa.com`ï¼ˆ80ç«¯å£ï¼‰ï¼Œçº¿ä¸Šç«™ç‚¹ç¡®ä¿443ç«¯å£å¼€æ”¾
8. **WooCommerceä¸“å±æ£€æŸ¥**ï¼šç¡®è®¤å·²å®‰è£…å¹¶å¯ç”¨WooCommerceï¼Œå†å‹¾é€‰ã€Œæ–°è®¢å•ç”Ÿæˆæ—¶æ¨é€ã€

## ğŸš€ æ‰©å±•ä¸äºŒæ¬¡å¼€å‘
v1.2å·²å®ç°å¤§éƒ¨åˆ†å¯è§†åŒ–é…ç½®ï¼Œå‡å°‘æ‰‹åŠ¨å¼€å‘éœ€æ±‚ï¼›åŒæ—¶ä¿ç•™åŸç”Ÿæ‰©å±•èƒ½åŠ›ï¼ŒåŸºäº1.0ç‰ˆæœ¬æ‰©å±•é€»è¾‘ï¼Œ**ä»…ç§»é™¤æ‰‹åŠ¨ä¿®æ”¹åè®®/è¯·æ±‚æ–¹å¼çš„æ“ä½œ**ï¼ˆå·²å¯è§†åŒ–ï¼‰ã€‚

### æ‰©å±•1ï¼šæ·»åŠ è‡ªå®šä¹‰äº‹ä»¶å¼€å…³
è‹¥éœ€åœ¨åå°æ·»åŠ è‡ªå®šä¹‰åœºæ™¯çš„æ¨é€å¼€å…³ï¼Œå¯æ‰©å±•æ’ä»¶çš„é…ç½®æ³¨å†Œé€»è¾‘ï¼Œæ·»åŠ æ–°çš„å¼€å…³å­—æ®µï¼Œç»“åˆé’©å­å®ç°ï¼š
```php
// æ­¥éª¤1ï¼šåœ¨åå°æ·»åŠ è‡ªå®šä¹‰å¼€å…³å­—æ®µï¼ˆå‚è€ƒæ’ä»¶ä¸­register_settingéƒ¨åˆ†ï¼‰
// æ­¥éª¤2ï¼šç»“åˆå¼€å…³åˆ¤æ–­æ˜¯å¦æ¨é€
add_action('xxx_custom_hook', 'custom_event_push');
function custom_event_push($params) {
    $settings = bemfa_wechat_get_settings();
    if (!$settings['event_custom']) return; // è‡ªå®šä¹‰å¼€å…³æœªå¼€å¯åˆ™ä¸æ¨é€
    $msg = "ã€è‡ªå®šä¹‰äº‹ä»¶æ¨é€ã€‘\nå†…å®¹ï¼š{$params['msg']}";
    bafayun_wechat_warn($msg);
}
```

### æ‰©å±•2ï¼šå¤šUIDæ¨é€
è‹¥éœ€æ¨é€åˆ°å¤šä¸ªå¾®ä¿¡è´¦å·ï¼Œå¯æ‰©å±•é…ç½®é¡µæ·»åŠ å¤šUIDå­—æ®µï¼Œå¾ªç¯è°ƒç”¨æ ¸å¿ƒæ¨é€å‡½æ•°ï¼š
```php
function bafayun_multi_uid_push($message) {
    $settings = bemfa_wechat_get_settings();
    // ä»æ‰©å±•é…ç½®ä¸­è·å–å¤šUIDï¼Œç¤ºä¾‹ä¸ºå›ºå®šæ•°ç»„ï¼Œå¯æ”¹ä¸ºåå°é…ç½®
    $uids = ['uid1', 'uid2', 'uid3']; 
    foreach ($uids as $uid) {
        // è°ƒç”¨åº•å±‚APIè¯·æ±‚å‡½æ•°ï¼ŒæŒ‡å®šä¸åŒUID
        bemfa_wechat_api_request('warn', [
            'message' => $message,
            'device' => $settings['device'],
            'group' => $settings['group'],
            'uid' => $uid // è¦†ç›–é»˜è®¤UID
        ]);
    }
}
```

### æ‰©å±•3ï¼šå®šæ—¶æ¨é€ï¼ˆç«™ç‚¹ç»Ÿè®¡/å·¡æ£€ï¼‰
ç»“åˆWPå®šæ—¶ä»»åŠ¡ï¼Œå®ç°æ¯æ—¥/æ¯å‘¨ç«™ç‚¹ç»Ÿè®¡æ¨é€ï¼Œé…åˆWP Crontrolæ’ä»¶ç®¡ç†å®šæ—¶ä»»åŠ¡ï¼š
```php
// æ³¨å†Œå®šæ—¶ä»»åŠ¡
add_action('bafayun_daily_stat_push', 'bafayun_daily_stat');
function bafayun_daily_stat() {
    $post_count = wp_count_posts()->publish; // å·²å‘å¸ƒæ–‡ç« æ•°
    $comment_count = wp_count_comments()->approved; // å·²å®¡æ ¸è¯„è®ºæ•°
    $user_count = count_users()['total_users']; // æ³¨å†Œç”¨æˆ·æ•°
    $msg = "ã€ç«™ç‚¹æ¯æ—¥ç»Ÿè®¡ã€‘\næ—¥æœŸï¼š" . date('Y-m-d') . "\næ–‡ç« æ•°ï¼š{$post_count}ç¯‡\nè¯„è®ºæ•°ï¼š{$comment_count}æ¡\nç”¨æˆ·æ•°ï¼š{$user_count}äºº";
    bafayun_wechat_warn($msg, 'WPç«™ç‚¹-ç»Ÿè®¡é€šçŸ¥', 'wp_stat');
}
// æ¿€æ´»æ’ä»¶æ—¶æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨1ç‚¹ï¼‰
register_activation_hook(__FILE__, 'bafayun_add_cron');
function bafayun_add_cron() {
    if (!wp_next_scheduled('bafayun_daily_stat_push')) {
        wp_schedule_event(strtotime('01:00:00'), 'daily', 'bafayun_daily_stat_push');
    }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—
æ¬¢è¿å¼€å‘è€…å‚ä¸è´¡çŒ®ï¼Œå®Œå–„æ’ä»¶åŠŸèƒ½ï¼Œæäº¤PRå‰è¯·éµå®ˆä»¥ä¸‹è§„èŒƒï¼š
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/xxx`ï¼ˆxxxä¸ºåŠŸèƒ½åç§°ï¼Œå¦‚`feature/multi-uid`ï¼‰
3. æäº¤ä»£ç ï¼š`git commit -m "feat: æ–°å¢å¤šUIDæ¨é€åŠŸèƒ½"`ï¼ˆéµå¾ªConventional Commitsè§„èŒƒï¼‰
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/xxx`
5. æ‰“å¼€Pull Requestï¼Œè¯¦ç»†æè¿°åŠŸèƒ½å˜æ›´ã€æµ‹è¯•æƒ…å†µï¼Œç­‰å¾…å®¡æ ¸

åŒæ—¶æ¬¢è¿æäº¤Issueåé¦ˆBugã€æå‡ºåŠŸèƒ½å»ºè®®ï¼Œåé¦ˆæ—¶è¯·è¯´æ˜**æ’ä»¶ç‰ˆæœ¬ã€WPç‰ˆæœ¬ã€PHPç‰ˆæœ¬ã€å¤±è´¥åœºæ™¯ã€æµ‹è¯•æ¨é€æç¤º**ï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½è§£å†³ã€‚

## ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ [GPLv2 è®¸å¯è¯](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) å¼€æºï¼ˆç¬¦åˆWordPressæ’ä»¶å¼€æºè§„èŒƒï¼‰ï¼Œå…è®¸è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘ï¼Œå‰ææ˜¯ï¼š
- ä¿ç•™åŸä½œè€…ç‰ˆæƒä¿¡æ¯
- ä¿®æ”¹åçš„ä»£ç åŒæ ·é‡‡ç”¨GPLv2è®¸å¯è¯å¼€æº

## ğŸ™ è‡´è°¢
- æ„Ÿè°¢ [å·´æ³•äº‘](https://bemfa.com/) æä¾›å¾®ä¿¡é€šçŸ¥APIæ¥å£æ”¯æŒï¼Œä»¥åŠå®Œå–„çš„å®˜æ–¹æ–‡æ¡£
- æ„Ÿè°¢ WordPress å®˜æ–¹æä¾›çš„æ’ä»¶å¼€å‘æ–‡æ¡£å’Œç”Ÿæ€æ”¯æŒ
- æ„Ÿè°¢æ‰€æœ‰1.0ç‰ˆæœ¬ç”¨æˆ·çš„åé¦ˆï¼Œä¸ºv1.2å‡çº§æä¾›æ ¸å¿ƒæ–¹å‘

## ğŸ“ è”ç³»ä¸åé¦ˆ
- Bugåé¦ˆ/åŠŸèƒ½å»ºè®®ï¼šæäº¤ [Issue](https://github.com/liseezn/Bemfa-wechat-notify/issues)
- å·´æ³•äº‘å®˜æ–¹APIæ–‡æ¡£ï¼š[å·´æ³•äº‘å¼€å‘æ–‡æ¡£](https://cloud.bemfa.com/docs/)
- æ’ä»¶ä½¿ç”¨é—®é¢˜ï¼šå¯åœ¨Issueä¸­ç•™è¨€ï¼Œæˆ–å‚è€ƒå·´æ³•äº‘å®˜æ–¹è®ºå›æ•™ç¨‹

---

æœ€åæ›´æ–°æ—¶é—´ï¼š2026-02-01  
æ’ä»¶ç‰ˆæœ¬ï¼šv1.2  
å…¼å®¹ç‰ˆæœ¬ï¼šWP 5.0+ã€PHP 7.0+ã€WooCommerce 3.0+
